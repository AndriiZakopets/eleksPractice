{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\INTERN\\\\Documents\\\\Practice\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { store } from 'react-notifications-component';\nimport { ADD_MOVIE, CHANGE_ORDER, REMOVE_MOVIE } from '../constants';\nlet initialState;\nconst storageWatchList = localStorage.getItem('watch-list');\n\nconst notification = (type, message) => {\n  store.addNotification({\n    title: type,\n    message,\n    type,\n    insert: \"top\",\n    container: \"bottom-right\",\n    animationIn: [\"animated\", \"fadeIn\"],\n    animationOut: [\"animated\", \"fadeOut\"],\n    dismiss: {\n      duration: 3000,\n      onScreen: true\n    }\n  });\n};\n\nif (storageWatchList) {\n  initialState = JSON.parse(storageWatchList);\n} else {\n  initialState = {\n    watchIds: {},\n    watchList: []\n  };\n}\n\nconst reducer = (state = initialState, action) => {\n  const type = action.type,\n        payload = action.payload;\n\n  switch (type) {\n    case ADD_MOVIE:\n      return _objectSpread({}, state, {\n        watchIds: _objectSpread({}, state.watchIds, {\n          [payload.id]: payload\n        }),\n        watchList: [...state.watchList, payload.id]\n      });\n\n    case CHANGE_ORDER:\n      {\n        const newWatchList = [...state.watchList];\n        newWatchList.splice(payload.sourceI, 1);\n        newWatchList.splice(payload.destinationI, 0, payload.draggableId);\n        return _objectSpread({}, state, {\n          watchList: newWatchList\n        });\n      }\n\n    case REMOVE_MOVIE:\n      {\n        const newWatchList = [...state.watchList];\n        newWatchList.splice(payload.movieId, 1);\n        return _objectSpread({}, state, {\n          watchList: newWatchList\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/INTERN/Documents/Practice/eleksPractice/moviesapp/src/reducers/watchListReducer.js"],"names":["store","ADD_MOVIE","CHANGE_ORDER","REMOVE_MOVIE","initialState","storageWatchList","localStorage","getItem","notification","type","message","addNotification","title","insert","container","animationIn","animationOut","dismiss","duration","onScreen","JSON","parse","watchIds","watchList","reducer","state","action","payload","id","newWatchList","splice","sourceI","destinationI","draggableId","movieId"],"mappings":";AAAA,SAASA,KAAT,QAAsB,+BAAtB;AACA,SACEC,SADF,EAEEC,YAFF,EAGEC,YAHF,QAIO,cAJP;AAMA,IAAIC,YAAJ;AACA,MAAMC,gBAAgB,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAzB;;AAEA,MAAMC,YAAY,GAAG,CAACC,IAAD,EAAOC,OAAP,KAAmB;AACtCV,EAAAA,KAAK,CAACW,eAAN,CAAsB;AACpBC,IAAAA,KAAK,EAAEH,IADa;AAEpBC,IAAAA,OAFoB;AAGpBD,IAAAA,IAHoB;AAIpBI,IAAAA,MAAM,EAAE,KAJY;AAKpBC,IAAAA,SAAS,EAAE,cALS;AAMpBC,IAAAA,WAAW,EAAE,CAAC,UAAD,EAAa,QAAb,CANO;AAOpBC,IAAAA,YAAY,EAAE,CAAC,UAAD,EAAa,SAAb,CAPM;AAQpBC,IAAAA,OAAO,EAAE;AACPC,MAAAA,QAAQ,EAAE,IADH;AAEPC,MAAAA,QAAQ,EAAE;AAFH;AARW,GAAtB;AAaD,CAdD;;AAgBA,IAAId,gBAAJ,EAAsB;AACpBD,EAAAA,YAAY,GAAGgB,IAAI,CAACC,KAAL,CAAWhB,gBAAX,CAAf;AACD,CAFD,MAEO;AACLD,EAAAA,YAAY,GAAG;AACbkB,IAAAA,QAAQ,EAAE,EADG;AAEbC,IAAAA,SAAS,EAAE;AAFE,GAAf;AAID;;AAED,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGrB,YAAT,EAAuBsB,MAAvB,KAAkC;AAAA,QACxCjB,IADwC,GACtBiB,MADsB,CACxCjB,IADwC;AAAA,QAClCkB,OADkC,GACtBD,MADsB,CAClCC,OADkC;;AAEhD,UAAQlB,IAAR;AACE,SAAKR,SAAL;AACE,+BACKwB,KADL;AAEEH,QAAAA,QAAQ,oBACHG,KAAK,CAACH,QADH;AAEN,WAACK,OAAO,CAACC,EAAT,GAAcD;AAFR,UAFV;AAMEJ,QAAAA,SAAS,EAAE,CACT,GAAGE,KAAK,CAACF,SADA,EAETI,OAAO,CAACC,EAFC;AANb;;AAWF,SAAK1B,YAAL;AAAmB;AACjB,cAAM2B,YAAY,GAAG,CAAC,GAAGJ,KAAK,CAACF,SAAV,CAArB;AACAM,QAAAA,YAAY,CAACC,MAAb,CAAoBH,OAAO,CAACI,OAA5B,EAAqC,CAArC;AACAF,QAAAA,YAAY,CAACC,MAAb,CAAoBH,OAAO,CAACK,YAA5B,EAA0C,CAA1C,EAA6CL,OAAO,CAACM,WAArD;AACA,iCACKR,KADL;AAEEF,UAAAA,SAAS,EAAEM;AAFb;AAID;;AACD,SAAK1B,YAAL;AAAmB;AACjB,cAAM0B,YAAY,GAAG,CAAC,GAAGJ,KAAK,CAACF,SAAV,CAArB;AACAM,QAAAA,YAAY,CAACC,MAAb,CAAoBH,OAAO,CAACO,OAA5B,EAAqC,CAArC;AACA,iCACKT,KADL;AAEEF,UAAAA,SAAS,EAAEM;AAFb;AAID;;AACD;AACE,aAAOJ,KAAP;AA/BJ;AAiCD,CAnCD;;AAqCA,eAAeD,OAAf","sourcesContent":["import { store } from 'react-notifications-component';\r\nimport {\r\n  ADD_MOVIE,\r\n  CHANGE_ORDER,\r\n  REMOVE_MOVIE\r\n} from '../constants';\r\n\r\nlet initialState;\r\nconst storageWatchList = localStorage.getItem('watch-list');\r\n\r\nconst notification = (type, message) => {\r\n  store.addNotification({\r\n    title: type,\r\n    message,\r\n    type,\r\n    insert: \"top\",\r\n    container: \"bottom-right\",\r\n    animationIn: [\"animated\", \"fadeIn\"],\r\n    animationOut: [\"animated\", \"fadeOut\"],\r\n    dismiss: {\r\n      duration: 3000,\r\n      onScreen: true\r\n    }\r\n  });\r\n}\r\n\r\nif (storageWatchList) {\r\n  initialState = JSON.parse(storageWatchList);\r\n} else {\r\n  initialState = {\r\n    watchIds: {},\r\n    watchList: []\r\n  };\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case ADD_MOVIE: \r\n      return {\r\n        ...state,\r\n        watchIds: {\r\n          ...state.watchIds,\r\n          [payload.id]: payload\r\n        },\r\n        watchList: [\r\n          ...state.watchList,\r\n          payload.id\r\n        ]\r\n      };\r\n    case CHANGE_ORDER: {\r\n      const newWatchList = [...state.watchList];\r\n      newWatchList.splice(payload.sourceI, 1);\r\n      newWatchList.splice(payload.destinationI, 0, payload.draggableId);\r\n      return {\r\n        ...state,\r\n        watchList: newWatchList\r\n      };\r\n    }\r\n    case REMOVE_MOVIE: {\r\n      const newWatchList = [...state.watchList];\r\n      newWatchList.splice(payload.movieId, 1);\r\n      return {\r\n        ...state,\r\n        watchList: newWatchList\r\n      }\r\n    }\r\n    default: \r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}