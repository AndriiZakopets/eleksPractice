{"ast":null,"code":"import _objectSpread from \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport axios from 'axios';\nconst api_key = '4f7b4e11c29b41270f152fa71698f126';\n\nasync function callApi(path, params = {}) {\n  try {\n    const response = await axios.get(path, {\n      params: _objectSpread({}, params, {\n        api_key\n      })\n    });\n\n    if (!response.ok) {\n      throw new Error(`${response.status}: ${response.statusText}`);\n    }\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport default {\n  async getDetails(id) {\n    try {\n      return await callApi(`https://api.themoviedb.org/3/movie/${id}`);\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  async getPopular(page = 1) {\n    try {\n      return await callApi(`https://api.themoviedb.org/3/movie/popular`, {\n        page\n      });\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  async getTopRated(page = 1) {\n    try {\n      return await callApi(`https://api.themoviedb.org/3/movie/top_rated`, {\n        page\n      });\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  async getTrending() {\n    try {\n      return await callApi(`https://api.themoviedb.org/3/trending/movie/week`);\n    } catch (error) {\n      throw error;\n    }\n  }\n\n};","map":{"version":3,"sources":["C:/prog/eleksPractice/moviesapp/src/API.js"],"names":["axios","api_key","callApi","path","params","response","get","ok","Error","status","statusText","e","getDetails","id","error","getPopular","page","getTopRated","getTrending"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,kCAAhB;;AAEA,eAAeC,OAAf,CAAuBC,IAAvB,EAA6BC,MAAM,GAAG,EAAtC,EAA0C;AACvC,MAAI;AACH,UAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAUH,IAAV,EAAgB;AAAEC,MAAAA,MAAM,oBAAOA,MAAP;AAAgBH,QAAAA;AAAhB;AAAR,KAAhB,CAAvB;;AACA,QAAI,CAACI,QAAQ,CAACE,EAAd,EAAkB;AAChB,YAAM,IAAIC,KAAJ,CAAW,GAAEH,QAAQ,CAACI,MAAO,KAAIJ,QAAQ,CAACK,UAAW,EAArD,CAAN;AACD;AACD,GALD,CAKE,OAAMC,CAAN,EAAS;AACT,UAAMA,CAAN;AACD;AACH;;AAED,eAAe;AACb,QAAMC,UAAN,CAAiBC,EAAjB,EAAqB;AACnB,QAAI;AACF,aAAO,MAAMX,OAAO,CAAE,sCAAqCW,EAAG,EAA1C,CAApB;AACD,KAFD,CAEE,OAAMC,KAAN,EAAa;AACb,YAAMA,KAAN;AACD;AACF,GAPY;;AAQb,QAAMC,UAAN,CAAiBC,IAAI,GAAG,CAAxB,EAA2B;AACzB,QAAI;AACF,aAAO,MAAMd,OAAO,CAAE,4CAAF,EAA+C;AAAEc,QAAAA;AAAF,OAA/C,CAApB;AACD,KAFD,CAEE,OAAMF,KAAN,EAAa;AACb,YAAMA,KAAN;AACD;AACF,GAdY;;AAeb,QAAMG,WAAN,CAAkBD,IAAI,GAAG,CAAzB,EAA4B;AAC1B,QAAI;AACF,aAAO,MAAMd,OAAO,CAAE,8CAAF,EAAiD;AAAEc,QAAAA;AAAF,OAAjD,CAApB;AACD,KAFD,CAEE,OAAMF,KAAN,EAAa;AACb,YAAMA,KAAN;AACD;AACF,GArBY;;AAsBb,QAAMI,WAAN,GAAoB;AAClB,QAAI;AACF,aAAO,MAAMhB,OAAO,CAAE,kDAAF,CAApB;AACD,KAFD,CAEE,OAAMY,KAAN,EAAa;AACb,YAAMA,KAAN;AACD;AACF;;AA5BY,CAAf","sourcesContent":["import axios from 'axios';\r\n\r\nconst api_key = '4f7b4e11c29b41270f152fa71698f126';\r\n\r\nasync function callApi(path, params = {}) {\r\n   try {\r\n    const response = await axios.get(path, { params: { ...params , api_key } });\r\n    if (!response.ok) {\r\n      throw new Error(`${response.status}: ${response.statusText}`);\r\n    }\r\n   } catch(e) {\r\n     throw e;\r\n   }\r\n}\r\n\r\nexport default {\r\n  async getDetails(id) {\r\n    try {\r\n      return await callApi(`https://api.themoviedb.org/3/movie/${id}`);\r\n    } catch(error) {\r\n      throw error;\r\n    }\r\n  },\r\n  async getPopular(page = 1) {\r\n    try {\r\n      return await callApi(`https://api.themoviedb.org/3/movie/popular`, { page });\r\n    } catch(error) {\r\n      throw error;\r\n    }\r\n  },\r\n  async getTopRated(page = 1) {\r\n    try {\r\n      return await callApi(`https://api.themoviedb.org/3/movie/top_rated`, { page });\r\n    } catch(error) {\r\n      throw error;\r\n    }\r\n  },\r\n  async getTrending() {\r\n    try {\r\n      return await callApi(`https://api.themoviedb.org/3/trending/movie/week`);\r\n    } catch(error) {\r\n      throw error;\r\n    }\r\n  },\r\n}"]},"metadata":{},"sourceType":"module"}