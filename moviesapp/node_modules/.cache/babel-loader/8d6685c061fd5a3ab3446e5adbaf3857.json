{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\INTERN\\\\Documents\\\\Practice\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { ADD_MOVIE, CHANGE_ORDER, REMOVE_MOVIE } from '../constants';\nlet initialState;\nconst storageWatchList = localStorage.getItem('watch-list');\n\nif (storageWatchList) {\n  initialState = JSON.parse(storageWatchList);\n} else {\n  initialState = {\n    itemsById: {},\n    items: []\n  };\n}\n\nconst reducer = (state = initialState, action) => {\n  const type = action.type,\n        payload = action.payload;\n\n  switch (type) {\n    case ADD_MOVIE:\n      return _objectSpread({}, state, {\n        itemsById: _objectSpread({}, state.itemsById, {\n          [payload.id]: payload\n        }),\n        items: [...state.items, payload.id]\n      });\n\n    case CHANGE_ORDER:\n      {\n        const newWatchList = [...state.items];\n        newWatchList.splice(payload.sourceI, 1);\n        newWatchList.splice(payload.destinationI, 0, payload.draggableId);\n        return _objectSpread({}, state, {\n          items: newWatchList\n        });\n      }\n\n    case REMOVE_MOVIE:\n      {\n        return _objectSpread({}, state, {\n          items: state.items.filter((item, index) => index != payload.id)\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/INTERN/Documents/Practice/eleksPractice/moviesapp/src/reducers/watchListReducer.js"],"names":["ADD_MOVIE","CHANGE_ORDER","REMOVE_MOVIE","initialState","storageWatchList","localStorage","getItem","JSON","parse","itemsById","items","reducer","state","action","type","payload","id","newWatchList","splice","sourceI","destinationI","draggableId","filter","item","index"],"mappings":";AAAA,SACEA,SADF,EAEEC,YAFF,EAGEC,YAHF,QAIO,cAJP;AAMA,IAAIC,YAAJ;AACA,MAAMC,gBAAgB,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAzB;;AAEA,IAAIF,gBAAJ,EAAsB;AACpBD,EAAAA,YAAY,GAAGI,IAAI,CAACC,KAAL,CAAWJ,gBAAX,CAAf;AACD,CAFD,MAEO;AACLD,EAAAA,YAAY,GAAG;AACbM,IAAAA,SAAS,EAAE,EADE;AAEbC,IAAAA,KAAK,EAAE;AAFM,GAAf;AAID;;AAED,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGT,YAAT,EAAuBU,MAAvB,KAAkC;AAAA,QACxCC,IADwC,GACtBD,MADsB,CACxCC,IADwC;AAAA,QAClCC,OADkC,GACtBF,MADsB,CAClCE,OADkC;;AAEhD,UAAQD,IAAR;AACE,SAAKd,SAAL;AACE,+BACKY,KADL;AAEEH,QAAAA,SAAS,oBACJG,KAAK,CAACH,SADF;AAEP,WAACM,OAAO,CAACC,EAAT,GAAcD;AAFP,UAFX;AAMEL,QAAAA,KAAK,EAAE,CACL,GAAGE,KAAK,CAACF,KADJ,EAELK,OAAO,CAACC,EAFH;AANT;;AAWF,SAAKf,YAAL;AAAmB;AACjB,cAAMgB,YAAY,GAAG,CAAC,GAAGL,KAAK,CAACF,KAAV,CAArB;AACAO,QAAAA,YAAY,CAACC,MAAb,CAAoBH,OAAO,CAACI,OAA5B,EAAqC,CAArC;AACAF,QAAAA,YAAY,CAACC,MAAb,CAAoBH,OAAO,CAACK,YAA5B,EAA0C,CAA1C,EAA6CL,OAAO,CAACM,WAArD;AACA,iCACKT,KADL;AAEEF,UAAAA,KAAK,EAAEO;AAFT;AAID;;AACD,SAAKf,YAAL;AAAmB;AACjB,iCACKU,KADL;AAEEF,UAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,CAAYY,MAAZ,CAAmB,CAACC,IAAD,EAAOC,KAAP,KAAiBA,KAAK,IAAIT,OAAO,CAACC,EAArD;AAFT;AAID;;AACD;AACE,aAAOJ,KAAP;AA7BJ;AA+BD,CAjCD;;AAmCA,eAAeD,OAAf","sourcesContent":["import {\r\n  ADD_MOVIE,\r\n  CHANGE_ORDER,\r\n  REMOVE_MOVIE\r\n} from '../constants';\r\n\r\nlet initialState;\r\nconst storageWatchList = localStorage.getItem('watch-list');\r\n\r\nif (storageWatchList) {\r\n  initialState = JSON.parse(storageWatchList);\r\n} else {\r\n  initialState = {\r\n    itemsById: {},\r\n    items: []\r\n  };\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case ADD_MOVIE: \r\n      return {\r\n        ...state,\r\n        itemsById: {\r\n          ...state.itemsById,\r\n          [payload.id]: payload\r\n        },\r\n        items: [\r\n          ...state.items,\r\n          payload.id\r\n        ]\r\n      };\r\n    case CHANGE_ORDER: {\r\n      const newWatchList = [...state.items];\r\n      newWatchList.splice(payload.sourceI, 1);\r\n      newWatchList.splice(payload.destinationI, 0, payload.draggableId);\r\n      return {\r\n        ...state,\r\n        items: newWatchList\r\n      };\r\n    }\r\n    case REMOVE_MOVIE: {\r\n      return {\r\n        ...state,\r\n        items: state.items.filter((item, index) => index != payload.id)\r\n      }\r\n    }\r\n    default: \r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}