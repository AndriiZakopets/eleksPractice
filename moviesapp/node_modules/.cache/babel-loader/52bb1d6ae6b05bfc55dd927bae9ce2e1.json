{"ast":null,"code":"import _objectSpread from \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\src\\\\components\\\\CatalogItem.js\";\nimport React, { useState } from 'react';\nimport API from '../API'; // class Catalog extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       movie: {},\n//       year: ''\n//     }\n//     API.getDetails(this.props.match.params.id)\n//     .then(movie => {\n//       this.setState({ movie, year: movie.release_date.split('-')[0] })\n//     })\n//   }\n//   render() {\n//     console.log(this.state.movie);\n//     return (\n//       <div className=\"container\">\n//         <img \n//           className=\"CatalogItem_image-content\" \n//           src={`https://image.tmdb.org/t/p/original${this.state.movie.backdrop_path}`} \n//           alt={this.state.movie.title}\n//         />\n//         <span className=\"CatalogItem_title\">{this.state.movie.title}({this.state.year})</span>\n//         <span className=\"overview\">{this.state.movie.overview}</span>\n//       </div>\n//     );\n//   }\n// }\n\nfunction Catalog({\n  cacheData\n}) {\n  const id = this.props.match.params.id;\n\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        movie = _useState2[0],\n        setMovie = _useState2[1];\n\n  if (cacheData[id]) {\n    setMovie(_objectSpread({}, cacheData[id]));\n  } else {\n    API.getDetails(id).then(movie => {\n      setMovie(_objectSpread({}, movie));\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"CatalogItem_image-content\",\n    src: `https://image.tmdb.org/t/p/original${movie.backdrop_path}`,\n    alt: movie.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"CatalogItem_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, movie.title, \"(\", movie.year, \")\"), React.createElement(\"span\", {\n    className: \"overview\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, movie.overview));\n}\n\nexport default Catalog;","map":{"version":3,"sources":["C:/prog/eleksPractice/moviesapp/src/components/CatalogItem.js"],"names":["React","useState","API","Catalog","cacheData","id","props","match","params","movie","setMovie","getDetails","then","backdrop_path","title","year","overview"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,GAAP,MAAgB,QAAhB,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,OAAT,CAAiB;AAAEC,EAAAA;AAAF,CAAjB,EAAgC;AAC9B,QAAMC,EAAE,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,EAAnC;;AAD8B,oBAEJJ,QAAQ,CAAC,EAAD,CAFJ;AAAA;AAAA,QAEvBQ,KAFuB;AAAA,QAEhBC,QAFgB;;AAI9B,MAAIN,SAAS,CAACC,EAAD,CAAb,EAAmB;AACjBK,IAAAA,QAAQ,mBACHN,SAAS,CAACC,EAAD,CADN,EAAR;AAGD,GAJD,MAIO;AACLH,IAAAA,GAAG,CAACS,UAAJ,CAAeN,EAAf,EACCO,IADD,CACMH,KAAK,IAAI;AACbC,MAAAA,QAAQ,mBAAMD,KAAN,EAAR;AACD,KAHD;AAID;;AAED,SACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,2BADZ;AAEE,IAAA,GAAG,EAAG,sCAAqCA,KAAK,CAACI,aAAc,EAFjE;AAGE,IAAA,GAAG,EAAEJ,KAAK,CAACK,KAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAME;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCL,KAAK,CAACK,KAA3C,OAAmDL,KAAK,CAACM,IAAzD,MANF,EAOE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4BN,KAAK,CAACO,QAAlC,CAPF,CADF;AAWD;;AAED,eAAeb,OAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport API from '../API';\r\n\r\n// class Catalog extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n\r\n//     this.state = {\r\n//       movie: {},\r\n//       year: ''\r\n//     }\r\n\r\n//     API.getDetails(this.props.match.params.id)\r\n//     .then(movie => {\r\n//       this.setState({ movie, year: movie.release_date.split('-')[0] })\r\n//     })\r\n//   }\r\n\r\n//   render() {\r\n//     console.log(this.state.movie);\r\n//     return (\r\n//       <div className=\"container\">\r\n//         <img \r\n//           className=\"CatalogItem_image-content\" \r\n//           src={`https://image.tmdb.org/t/p/original${this.state.movie.backdrop_path}`} \r\n//           alt={this.state.movie.title}\r\n//         />\r\n//         <span className=\"CatalogItem_title\">{this.state.movie.title}({this.state.year})</span>\r\n//         <span className=\"overview\">{this.state.movie.overview}</span>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\nfunction Catalog({ cacheData }) {\r\n  const id = this.props.match.params.id;\r\n  const [movie, setMovie] = useState({});\r\n\r\n  if (cacheData[id]) {\r\n    setMovie({\r\n      ...cacheData[id]\r\n    });\r\n  } else {\r\n    API.getDetails(id)\r\n    .then(movie => {\r\n      setMovie({ ...movie });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <img \r\n        className=\"CatalogItem_image-content\" \r\n        src={`https://image.tmdb.org/t/p/original${movie.backdrop_path}`} \r\n        alt={movie.title}\r\n      />\r\n      <span className=\"CatalogItem_title\">{movie.title}({movie.year})</span>\r\n      <span className=\"overview\">{movie.overview}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Catalog;\r\n"]},"metadata":{},"sourceType":"module"}