{"ast":null,"code":"import _objectSpread from \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport axios from 'axios';\nconst api_key = '4f7b4e11c29b41270f152fa71698f126';\n\nasync function callApi(path, params = {}) {\n  try {\n    const response = await axios.get(path, {\n      params: _objectSpread({}, params, {\n        api_key\n      })\n    });\n\n    if (response.status !== 200) {\n      throw new Error(`${response.status}: ${response.statusText}`);\n    }\n\n    return response;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport default {\n  async getDetails(id) {\n    try {\n      return await callApi(`https://api.themoviedb.org/3/movie/${id}`);\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  async getPopular(page = 1) {\n    try {\n      return await callApi(`https://api.themoviedb.org/3/movie/popular`, {\n        page\n      });\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  async getTopRated(page = 1) {\n    try {\n      return await callApi(`https://api.themoviedb.org/3/movie/top_rated`, {\n        page\n      });\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  async getTrending(page = 1) {\n    try {\n      return await callApi(`https://api.themoviedb.org/3/trending/movie/week`, {\n        page\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n\n};","map":{"version":3,"sources":["C:/prog/eleksPractice/moviesapp/src/API.js"],"names":["axios","api_key","callApi","path","params","response","get","status","Error","statusText","error","getDetails","id","getPopular","page","getTopRated","getTrending"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,kCAAhB;;AAEA,eAAeC,OAAf,CAAuBC,IAAvB,EAA6BC,MAAM,GAAG,EAAtC,EAA0C;AACxC,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAUH,IAAV,EAAgB;AAAEC,MAAAA,MAAM,oBAAOA,MAAP;AAAgBH,QAAAA;AAAhB;AAAR,KAAhB,CAAvB;;AACA,QAAII,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,YAAM,IAAIC,KAAJ,CAAW,GAAEH,QAAQ,CAACE,MAAO,KAAIF,QAAQ,CAACI,UAAW,EAArD,CAAN;AACD;;AACD,WAAOJ,QAAP;AACD,GAND,CAME,OAAMK,KAAN,EAAa;AACb,UAAMA,KAAN;AACD;AACF;;AAED,eAAe;AACb,QAAMC,UAAN,CAAiBC,EAAjB,EAAqB;AACnB,QAAI;AACF,aAAO,MAAMV,OAAO,CAAE,sCAAqCU,EAAG,EAA1C,CAApB;AACD,KAFD,CAEE,OAAMF,KAAN,EAAa;AACb,YAAMA,KAAN;AACD;AACF,GAPY;;AAQb,QAAMG,UAAN,CAAiBC,IAAI,GAAG,CAAxB,EAA2B;AACzB,QAAI;AACF,aAAO,MAAMZ,OAAO,CAAE,4CAAF,EAA+C;AAAEY,QAAAA;AAAF,OAA/C,CAApB;AACD,KAFD,CAEE,OAAMJ,KAAN,EAAa;AACb,YAAMA,KAAN;AACD;AACF,GAdY;;AAeb,QAAMK,WAAN,CAAkBD,IAAI,GAAG,CAAzB,EAA4B;AAC1B,QAAI;AACF,aAAO,MAAMZ,OAAO,CAAE,8CAAF,EAAiD;AAAEY,QAAAA;AAAF,OAAjD,CAApB;AACD,KAFD,CAEE,OAAMJ,KAAN,EAAa;AACb,YAAMA,KAAN;AACD;AACF,GArBY;;AAsBb,QAAMM,WAAN,CAAkBF,IAAI,GAAG,CAAzB,EAA4B;AAC1B,QAAI;AACF,aAAO,MAAMZ,OAAO,CAAE,kDAAF,EAAqD;AAAEY,QAAAA;AAAF,OAArD,CAApB;AACD,KAFD,CAEE,OAAMJ,KAAN,EAAa;AACb,YAAMA,KAAN;AACD;AACF;;AA5BY,CAAf","sourcesContent":["import axios from 'axios';\r\n\r\nconst api_key = '4f7b4e11c29b41270f152fa71698f126';\r\n\r\nasync function callApi(path, params = {}) {\r\n  try {\r\n    const response = await axios.get(path, { params: { ...params , api_key } });\r\n    if (response.status !== 200) {\r\n      throw new Error(`${response.status}: ${response.statusText}`);\r\n    }\r\n    return response;\r\n  } catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default {\r\n  async getDetails(id) {\r\n    try {\r\n      return await callApi(`https://api.themoviedb.org/3/movie/${id}`);\r\n    } catch(error) {\r\n      throw error;\r\n    }\r\n  },\r\n  async getPopular(page = 1) {\r\n    try {\r\n      return await callApi(`https://api.themoviedb.org/3/movie/popular`, { page });\r\n    } catch(error) {\r\n      throw error;\r\n    }\r\n  },\r\n  async getTopRated(page = 1) {\r\n    try {\r\n      return await callApi(`https://api.themoviedb.org/3/movie/top_rated`, { page });\r\n    } catch(error) {\r\n      throw error;\r\n    }\r\n  },\r\n  async getTrending(page = 1) {\r\n    try {\r\n      return await callApi(`https://api.themoviedb.org/3/trending/movie/week`, { page });\r\n    } catch(error) {\r\n      throw error;\r\n    }\r\n  },\r\n}"]},"metadata":{},"sourceType":"module"}