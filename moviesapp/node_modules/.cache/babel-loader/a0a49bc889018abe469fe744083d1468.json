{"ast":null,"code":"import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport ThunkMiddleware from 'redux-thunk';\nimport moviesReducer from './reducers/moviesReducer';\nimport settingsReducer from './reducers/settingsReducer';\nimport watchListReducer from './reducers/watchListReducer';\nimport { ADD_MOVIE, CHANGE_ORDER, REMOVE_MOVIE } from './constants';\nconst watchListActions = [ADD_MOVIE, CHANGE_ORDER, REMOVE_MOVIE];\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst reducer = combineReducers({\n  settings: settingsReducer,\n  movies: moviesReducer,\n  watchList: watchListReducer\n});\n\nconst addWatchListToLocalStorage = store => next => action => {\n  next(action);\n\n  if (watchListActions.includes(action.type)) {\n    localStorage.setItem('watch-list', JSON.stringify(store.getState().watchList));\n  }\n};\n\nconst middlewareArr = [ThunkMiddleware, addWatchListToLocalStorage];\nexport default createStore(reducer, composeEnhancers(applyMiddleware(...middlewareArr)));","map":{"version":3,"sources":["C:/Users/INTERN/Documents/Practice/eleksPractice/moviesapp/src/store.js"],"names":["createStore","combineReducers","applyMiddleware","compose","ThunkMiddleware","moviesReducer","settingsReducer","watchListReducer","ADD_MOVIE","CHANGE_ORDER","REMOVE_MOVIE","watchListActions","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","reducer","settings","movies","watchList","addWatchListToLocalStorage","store","next","action","includes","type","localStorage","setItem","JSON","stringify","getState","middlewareArr"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,EAAuCC,eAAvC,EAAwDC,OAAxD,QAAuE,OAAvE;AACA,OAAOC,eAAP,MAA4B,aAA5B;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,eAAP,MAA4B,4BAA5B;AACA,OAAOC,gBAAP,MAA6B,6BAA7B;AACA,SACEC,SADF,EAEEC,YAFF,EAGEC,YAHF,QAIO,aAJP;AAMA,MAAMC,gBAAgB,GAAG,CAACH,SAAD,EAAYC,YAAZ,EAA0BC,YAA1B,CAAzB;AAEA,MAAME,gBAAgB,GAAGC,MAAM,CAACC,oCAAP,IAA+CX,OAAxE;AACA,MAAMY,OAAO,GAAGd,eAAe,CAAC;AAC9Be,EAAAA,QAAQ,EAAEV,eADoB;AAE9BW,EAAAA,MAAM,EAAEZ,aAFsB;AAG9Ba,EAAAA,SAAS,EAAEX;AAHmB,CAAD,CAA/B;;AAMA,MAAMY,0BAA0B,GAAGC,KAAK,IAAIC,IAAI,IAAIC,MAAM,IAAI;AAC5DD,EAAAA,IAAI,CAACC,MAAD,CAAJ;;AACA,MAAIX,gBAAgB,CAACY,QAAjB,CAA0BD,MAAM,CAACE,IAAjC,CAAJ,EAA4C;AAC1CC,IAAAA,YAAY,CAACC,OAAb,CACE,YADF,EAEEC,IAAI,CAACC,SAAL,CAAeR,KAAK,CAACS,QAAN,GAAiBX,SAAhC,CAFF;AAID;AACF,CARD;;AAUA,MAAMY,aAAa,GAAG,CAAC1B,eAAD,EAAkBe,0BAAlB,CAAtB;AAEA,eAAenB,WAAW,CACxBe,OADwB,EAExBH,gBAAgB,CACdV,eAAe,CAAC,GAAG4B,aAAJ,CADD,CAFQ,CAA1B","sourcesContent":["import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport ThunkMiddleware from 'redux-thunk';\r\nimport moviesReducer from './reducers/moviesReducer';\r\nimport settingsReducer from './reducers/settingsReducer';\r\nimport watchListReducer from './reducers/watchListReducer';\r\nimport {\r\n  ADD_MOVIE,\r\n  CHANGE_ORDER,\r\n  REMOVE_MOVIE\r\n} from './constants';\r\n\r\nconst watchListActions = [ADD_MOVIE, CHANGE_ORDER, REMOVE_MOVIE];\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst reducer = combineReducers({\r\n  settings: settingsReducer,\r\n  movies: moviesReducer,\r\n  watchList: watchListReducer\r\n});\r\n\r\nconst addWatchListToLocalStorage = store => next => action => {\r\n  next(action)\r\n  if (watchListActions.includes(action.type)) {\r\n    localStorage.setItem(\r\n      'watch-list',\r\n      JSON.stringify(store.getState().watchList)\r\n    )\r\n  }\r\n}\r\n\r\nconst middlewareArr = [ThunkMiddleware, addWatchListToLocalStorage]\r\n\r\nexport default createStore(\r\n  reducer, \r\n  composeEnhancers(\r\n    applyMiddleware(...middlewareArr)\r\n  ),\r\n);"]},"metadata":{},"sourceType":"module"}