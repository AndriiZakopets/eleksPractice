{"ast":null,"code":"import _objectSpread from \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\src\\\\containers\\\\FiltersContainer.js\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport Filters from '../components/Filters';\nimport debounce from 'lodash/debounce';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setSettings } from '../actions/settingsActions';\nimport { SORTINGS } from '../constants';\n\nfunction FiltersContainer() {\n  const _useSelector = useSelector(state => state),\n        sorting = _useSelector.sorting,\n        searchQuery = _useSelector.searchQuery;\n\n  const _useState = useState(searchQuery),\n        _useState2 = _slicedToArray(_useState, 2),\n        tempSearchQuery = _useState2[0],\n        setTempSearchQuery = _useState2[1];\n\n  const _useSelector2 = useSelector(state => state.movies),\n        isFetching = _useSelector2.isFetching,\n        isFetched = _useSelector2.isFetched,\n        fetchError = _useSelector2.fetchError;\n\n  const dispatch = useDispatch();\n  const changeSettingsDebounced = useCallback(debounce(newSettings => {\n    dispatch(setSettings(_objectSpread({}, newSettings)));\n  }, 400), []);\n\n  const onSearchQueryChange = e => {\n    setTempSearchQuery(e.target.value);\n    changeSettingsDebounced({\n      searchQuery: e.target.value\n    });\n  };\n\n  const onSortingChange = e => {\n    dispatch(setSettings({\n      sorting: e.target.value\n    }));\n  };\n\n  return React.createElement(Filters, {\n    onSortingChange: onSortingChange,\n    onSearchQueryChange: onSearchQueryChange,\n    searchQuery: tempSearchQuery,\n    sorting: sorting,\n    sortingArr: SORTINGS,\n    isFetching: isFetching,\n    isFetched: isFetched,\n    error: fetchError,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  });\n}\n\nexport default FiltersContainer;","map":{"version":3,"sources":["C:/prog/eleksPractice/moviesapp/src/containers/FiltersContainer.js"],"names":["React","useState","useCallback","useEffect","Filters","debounce","useSelector","useDispatch","setSettings","SORTINGS","FiltersContainer","state","sorting","searchQuery","tempSearchQuery","setTempSearchQuery","movies","isFetching","isFetched","fetchError","dispatch","changeSettingsDebounced","newSettings","onSearchQueryChange","e","target","value","onSortingChange"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,EAAuCC,SAAvC,QAAwD,OAAxD;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,QAAT,QAAyB,cAAzB;;AAEA,SAASC,gBAAT,GAA4B;AAAA,uBACOJ,WAAW,CAACK,KAAK,IAAIA,KAAV,CADlB;AAAA,QAClBC,OADkB,gBAClBA,OADkB;AAAA,QACTC,WADS,gBACTA,WADS;;AAAA,oBAEoBZ,QAAQ,CAACY,WAAD,CAF5B;AAAA;AAAA,QAEnBC,eAFmB;AAAA,QAEFC,kBAFE;;AAAA,wBAGoBT,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACK,MAAhB,CAH/B;AAAA,QAGlBC,UAHkB,iBAGlBA,UAHkB;AAAA,QAGNC,SAHM,iBAGNA,SAHM;AAAA,QAGKC,UAHL,iBAGKA,UAHL;;AAI1B,QAAMC,QAAQ,GAAGb,WAAW,EAA5B;AAEA,QAAMc,uBAAuB,GAAGnB,WAAW,CACzCG,QAAQ,CAACiB,WAAW,IAAI;AACtBF,IAAAA,QAAQ,CAACZ,WAAW,mBAAMc,WAAN,EAAZ,CAAR;AACD,GAFO,EAEL,GAFK,CADiC,EAIzC,EAJyC,CAA3C;;AAOA,QAAMC,mBAAmB,GAAGC,CAAC,IAAI;AAC/BT,IAAAA,kBAAkB,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AACAL,IAAAA,uBAAuB,CAAC;AAAER,MAAAA,WAAW,EAAEW,CAAC,CAACC,MAAF,CAASC;AAAxB,KAAD,CAAvB;AACD,GAHD;;AAKA,QAAMC,eAAe,GAAGH,CAAC,IAAI;AAC3BJ,IAAAA,QAAQ,CAACZ,WAAW,CAAC;AAAEI,MAAAA,OAAO,EAAEY,CAAC,CAACC,MAAF,CAASC;AAApB,KAAD,CAAZ,CAAR;AACD,GAFD;;AAIA,SACE,oBAAC,OAAD;AACE,IAAA,eAAe,EAAEC,eADnB;AAEE,IAAA,mBAAmB,EAAEJ,mBAFvB;AAGE,IAAA,WAAW,EAAET,eAHf;AAIE,IAAA,OAAO,EAAEF,OAJX;AAKE,IAAA,UAAU,EAAEH,QALd;AAME,IAAA,UAAU,EAAEQ,UANd;AAOE,IAAA,SAAS,EAAEC,SAPb;AAQE,IAAA,KAAK,EAAEC,UART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAYD;;AAED,eAAeT,gBAAf","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\r\nimport Filters from '../components/Filters';\r\nimport debounce from 'lodash/debounce';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setSettings } from '../actions/settingsActions';\r\nimport { SORTINGS } from '../constants';\r\n\r\nfunction FiltersContainer() {\r\n  const { sorting, searchQuery } = useSelector(state => state);\r\n  const [tempSearchQuery, setTempSearchQuery] = useState(searchQuery); \r\n  const { isFetching, isFetched, fetchError } = useSelector(state => state.movies);\r\n  const dispatch = useDispatch();\r\n\r\n  const changeSettingsDebounced = useCallback(\r\n    debounce(newSettings => {\r\n      dispatch(setSettings({ ...newSettings }))\r\n    }, 400), \r\n    []\r\n  );\r\n\r\n  const onSearchQueryChange = e => {\r\n    setTempSearchQuery(e.target.value);\r\n    changeSettingsDebounced({ searchQuery: e.target.value });\r\n  }\r\n\r\n  const onSortingChange = e => {\r\n    dispatch(setSettings({ sorting: e.target.value }));\r\n  }\r\n\r\n  return (\r\n    <Filters \r\n      onSortingChange={onSortingChange}\r\n      onSearchQueryChange={onSearchQueryChange}\r\n      searchQuery={tempSearchQuery}\r\n      sorting={sorting}\r\n      sortingArr={SORTINGS}\r\n      isFetching={isFetching}\r\n      isFetched={isFetched}\r\n      error={fetchError}\r\n    />\r\n  );\r\n}\r\n\r\nexport default FiltersContainer;\r\n"]},"metadata":{},"sourceType":"module"}