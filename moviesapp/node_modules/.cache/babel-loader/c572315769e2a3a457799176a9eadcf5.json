{"ast":null,"code":"var _jsxFileName = \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\src\\\\containers\\\\CatalogContainer.js\";\nimport Catalog from '../components/Catalog';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getMovieByQuery, discoverMovies } from '../actions/asyncActions';\nimport { addMovie } from '../actions/WatchListActions';\nimport { store } from 'react-notifications-component';\nexport default function CatalogContainer({\n  history,\n  match\n}) {\n  const settings = useSelector(state => state.settings);\n\n  const _useSelector = useSelector(state => state.movies),\n        data = _useSelector.data;\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const searchQuery = settings.searchQuery,\n          sorting = settings.sorting,\n          page = settings.page;\n    const requestAction = searchQuery.trim() ? getMovieByQuery : discoverMovies;\n    localStorage.setItem('page', JSON.stringify({\n      data: page\n    }));\n    localStorage.setItem('sorting', JSON.stringify({\n      data: sorting\n    }));\n    dispatch(requestAction(settings));\n  }, [settings]);\n\n  const redirect = id => {\n    history.push(`${match.path}/${id}`);\n  };\n\n  const getRoute = id => `${match.path}/${id}`;\n\n  const addToWatchList = movie => {\n    dispatch(addMovie(movie));\n    store.addNotification({\n      title: \"Wonderful!\",\n      message: \"teodosii@react-notifications-component\",\n      type: \"success\",\n      insert: \"top\",\n      container: \"top-right\",\n      animationIn: [\"animated\", \"fadeIn\"],\n      animationOut: [\"animated\", \"fadeOut\"],\n      dismiss: {\n        duration: 5000,\n        onScreen: true\n      }\n    });\n  };\n\n  return React.createElement(Catalog, {\n    data: data,\n    redirect: redirect,\n    getRoute: getRoute,\n    addToWatchList: addToWatchList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  });\n}","map":{"version":3,"sources":["C:/prog/eleksPractice/moviesapp/src/containers/CatalogContainer.js"],"names":["Catalog","React","useEffect","useDispatch","useSelector","getMovieByQuery","discoverMovies","addMovie","store","CatalogContainer","history","match","settings","state","movies","data","dispatch","searchQuery","sorting","page","requestAction","trim","localStorage","setItem","JSON","stringify","redirect","id","push","path","getRoute","addToWatchList","movie","addNotification","title","message","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,uBAApB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,eAAT,EAA0BC,cAA1B,QAAgD,yBAAhD;AACA,SAASC,QAAT,QAAyB,6BAAzB;AACA,SAASC,KAAT,QAAsB,+BAAtB;AAEA,eAAe,SAASC,gBAAT,CAA0B;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAA1B,EAA8C;AAC3D,QAAMC,QAAQ,GAAGR,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACD,QAAhB,CAA5B;;AAD2D,uBAE1CR,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACC,MAAhB,CAF+B;AAAA,QAEnDC,IAFmD,gBAEnDA,IAFmD;;AAI3D,QAAMC,QAAQ,GAAGb,WAAW,EAA5B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AAAA,UACNe,WADM,GACyBL,QADzB,CACNK,WADM;AAAA,UACOC,OADP,GACyBN,QADzB,CACOM,OADP;AAAA,UACgBC,IADhB,GACyBP,QADzB,CACgBO,IADhB;AAEd,UAAMC,aAAa,GAAGH,WAAW,CAACI,IAAZ,KAAqBhB,eAArB,GAAuCC,cAA7D;AAEAgB,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe;AAAEV,MAAAA,IAAI,EAAEI;AAAR,KAAf,CAA7B;AACAG,IAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAe;AAAEV,MAAAA,IAAI,EAAEG;AAAR,KAAf,CAAhC;AACAF,IAAAA,QAAQ,CAACI,aAAa,CAACR,QAAD,CAAd,CAAR;AACD,GAPQ,EAON,CAACA,QAAD,CAPM,CAAT;;AASA,QAAMc,QAAQ,GAAGC,EAAE,IAAI;AACrBjB,IAAAA,OAAO,CAACkB,IAAR,CAAc,GAAEjB,KAAK,CAACkB,IAAK,IAAGF,EAAG,EAAjC;AACD,GAFD;;AAIA,QAAMG,QAAQ,GAAGH,EAAE,IAAK,GAAEhB,KAAK,CAACkB,IAAK,IAAGF,EAAG,EAA3C;;AAEA,QAAMI,cAAc,GAAGC,KAAK,IAAI;AAC9BhB,IAAAA,QAAQ,CAACT,QAAQ,CAACyB,KAAD,CAAT,CAAR;AACAxB,IAAAA,KAAK,CAACyB,eAAN,CAAsB;AACpBC,MAAAA,KAAK,EAAE,YADa;AAEpBC,MAAAA,OAAO,EAAE,wCAFW;AAGpBC,MAAAA,IAAI,EAAE,SAHc;AAIpBC,MAAAA,MAAM,EAAE,KAJY;AAKpBC,MAAAA,SAAS,EAAE,WALS;AAMpBC,MAAAA,WAAW,EAAE,CAAC,UAAD,EAAa,QAAb,CANO;AAOpBC,MAAAA,YAAY,EAAE,CAAC,UAAD,EAAa,SAAb,CAPM;AAQpBC,MAAAA,OAAO,EAAE;AACPC,QAAAA,QAAQ,EAAE,IADH;AAEPC,QAAAA,QAAQ,EAAE;AAFH;AARW,KAAtB;AAaD,GAfD;;AAiBA,SACE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAE5B,IADR;AAEE,IAAA,QAAQ,EAAEW,QAFZ;AAGE,IAAA,QAAQ,EAAEI,QAHZ;AAIE,IAAA,cAAc,EAAEC,cAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAQD","sourcesContent":["import Catalog from '../components/Catalog';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getMovieByQuery, discoverMovies } from '../actions/asyncActions';\r\nimport { addMovie } from '../actions/WatchListActions';\r\nimport { store } from 'react-notifications-component';\r\n\r\nexport default function CatalogContainer({ history, match }) {\r\n  const settings = useSelector(state => state.settings);\r\n  const { data } = useSelector(state => state.movies);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const { searchQuery, sorting, page } = settings;\r\n    const requestAction = searchQuery.trim() ? getMovieByQuery : discoverMovies;\r\n    \r\n    localStorage.setItem('page', JSON.stringify({ data: page }));\r\n    localStorage.setItem('sorting', JSON.stringify({ data: sorting }));\r\n    dispatch(requestAction(settings));\r\n  }, [settings]);\r\n\r\n  const redirect = id => {\r\n    history.push(`${match.path}/${id}`);\r\n  }\r\n\r\n  const getRoute = id => `${match.path}/${id}`;\r\n\r\n  const addToWatchList = movie => {\r\n    dispatch(addMovie(movie));\r\n    store.addNotification({\r\n      title: \"Wonderful!\",\r\n      message: \"teodosii@react-notifications-component\",\r\n      type: \"success\",\r\n      insert: \"top\",\r\n      container: \"top-right\",\r\n      animationIn: [\"animated\", \"fadeIn\"],\r\n      animationOut: [\"animated\", \"fadeOut\"],\r\n      dismiss: {\r\n        duration: 5000,\r\n        onScreen: true\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Catalog\r\n      data={data}\r\n      redirect={redirect}\r\n      getRoute={getRoute}\r\n      addToWatchList={addToWatchList}\r\n    />\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}