{"ast":null,"code":"import _objectSpread from \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport axios from 'axios';\nconst api_key = '4f7b4e11c29b41270f152fa71698f126';\n\nasync function callApi(path, params) {\n  const response = await axios.get(path, {\n    params: _objectSpread({}, params, {\n      api_key\n    })\n  });\n\n  if (!response.ok) {\n    throw new Error(`${response.status}: ${response.statusText}`);\n  }\n}\n\nexport default {\n  async getDetails(id) {\n    return axios.get(`https://api.themoviedb.org/3/movie/${id}`, {\n      params: {\n        api_key\n      }\n    });\n  },\n\n  async getPopular(page = 1) {\n    return axios.get(`https://api.themoviedb.org/3/movie/popular`, {\n      params: {\n        api_key,\n        page\n      }\n    });\n  },\n\n  async getTopRated(page = 1) {\n    return axios.get(`https://api.themoviedb.org/3/movie/top_rated`, {\n      params: {\n        api_key,\n        page\n      }\n    });\n  },\n\n  async getDetails() {\n    return axios.get(`https://api.themoviedb.org/3/trending/movie/week`, {\n      params: {\n        api_key\n      }\n    });\n  }\n\n};","map":{"version":3,"sources":["C:/prog/eleksPractice/moviesapp/src/API.js"],"names":["axios","api_key","callApi","path","params","response","get","ok","Error","status","statusText","getDetails","id","getPopular","page","getTopRated"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,kCAAhB;;AAEA,eAAeC,OAAf,CAAuBC,IAAvB,EAA6BC,MAA7B,EAAqC;AAClC,QAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAUH,IAAV,EAAgB;AAAEC,IAAAA,MAAM,oBAAOA,MAAP;AAAgBH,MAAAA;AAAhB;AAAR,GAAhB,CAAvB;;AACA,MAAI,CAACI,QAAQ,CAACE,EAAd,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAW,GAAEH,QAAQ,CAACI,MAAO,KAAIJ,QAAQ,CAACK,UAAW,EAArD,CAAN;AACD;AACH;;AAED,eAAe;AACb,QAAMC,UAAN,CAAiBC,EAAjB,EAAqB;AACnB,WAAOZ,KAAK,CAACM,GAAN,CAAW,sCAAqCM,EAAG,EAAnD,EAAsD;AAACR,MAAAA,MAAM,EAAE;AAAEH,QAAAA;AAAF;AAAT,KAAtD,CAAP;AACD,GAHY;;AAIb,QAAMY,UAAN,CAAiBC,IAAI,GAAG,CAAxB,EAA2B;AACzB,WAAOd,KAAK,CAACM,GAAN,CAAW,4CAAX,EAAwD;AAACF,MAAAA,MAAM,EAAE;AAAEH,QAAAA,OAAF;AAAWa,QAAAA;AAAX;AAAT,KAAxD,CAAP;AACD,GANY;;AAOb,QAAMC,WAAN,CAAkBD,IAAI,GAAG,CAAzB,EAA4B;AAC1B,WAAOd,KAAK,CAACM,GAAN,CAAW,8CAAX,EAA0D;AAACF,MAAAA,MAAM,EAAE;AAAEH,QAAAA,OAAF;AAAWa,QAAAA;AAAX;AAAT,KAA1D,CAAP;AACD,GATY;;AAUb,QAAMH,UAAN,GAAmB;AACjB,WAAOX,KAAK,CAACM,GAAN,CAAW,kDAAX,EAA8D;AAACF,MAAAA,MAAM,EAAE;AAAEH,QAAAA;AAAF;AAAT,KAA9D,CAAP;AACD;;AAZY,CAAf","sourcesContent":["import axios from 'axios';\r\n\r\nconst api_key = '4f7b4e11c29b41270f152fa71698f126';\r\n\r\nasync function callApi(path, params) {\r\n   const response = await axios.get(path, { params: { ...params , api_key } });\r\n   if (!response.ok) {\r\n     throw new Error(`${response.status}: ${response.statusText}`);\r\n   }\r\n}\r\n\r\nexport default {\r\n  async getDetails(id) {\r\n    return axios.get(`https://api.themoviedb.org/3/movie/${id}`, {params: { api_key }});\r\n  },\r\n  async getPopular(page = 1) {\r\n    return axios.get(`https://api.themoviedb.org/3/movie/popular`, {params: { api_key, page }});\r\n  },\r\n  async getTopRated(page = 1) {\r\n    return axios.get(`https://api.themoviedb.org/3/movie/top_rated`, {params: { api_key, page }});\r\n  },\r\n  async getDetails() {\r\n    return axios.get(`https://api.themoviedb.org/3/trending/movie/week`, {params: { api_key }});\r\n  },\r\n}"]},"metadata":{},"sourceType":"module"}