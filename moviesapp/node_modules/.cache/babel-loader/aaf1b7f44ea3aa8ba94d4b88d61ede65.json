{"ast":null,"code":"var _jsxFileName = \"C:\\\\prog\\\\eleksPractice\\\\moviesapp\\\\src\\\\components\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport '../styles/App.css';\nimport API from '../API';\nimport CatalogContainer from '../containers/CatalogContainer';\nimport CatalogItem from './CatalogItem';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'; // const TRENDING = 'trending';\n// const POPULAR = 'popular';\n// const TOP = 'top';\n// const SEARCH = 'search';\n// const REQUEST_MAP = {\n//   [TRENDING]: API.getTrending,\n//   [POPULAR]: API.getPopular,\n//   [TOP]: API.getTopRated,\n//   [SEARCH]: API.getMovieByQuery\n// }\n\nfunction App() {\n  // const [data, setData] = useState([]);\n  // const [dataById, setDataById] = useState({});\n  // const [totalPages , setTotalPages] = useState(0);\n  // const [settings, setSettings] = useState({\n  //   sorting: localStorage.getItem('sorting') || 'trending',\n  //   page: localStorage.getItem('page') || 1,\n  //   searchQuery: ''\n  // });\n  // useEffect(() => {\n  //   const { searchQuery, sorting, page } = settings;\n  //   const requstFuncKey = searchQuery.trim() ? SEARCH : sorting;\n  //   const requestFunc = REQUEST_MAP[requstFuncKey];\n  //   localStorage.setItem('page', page);\n  //   localStorage.setItem('sorting', sorting);\n  //   requestFunc(settings)\n  //   .then(({total_pages, results}) => {\n  //     setData(results);\n  //     setTotalPages(total_pages);\n  //     const additionalDataById = results.reduce((res, curr) => {\n  //       res[curr.id] = curr;\n  //       return res;\n  //     }, {});\n  //     setDataById({\n  //       ...dataById,\n  //       ...additionalDataById\n  //     });\n  //   })\n  // }, [settings]);\n  // return (\n  //   <div className=\"App\">\n  //     <Router>\n  //       <Switch>\n  //           <Route\n  //             path='/catalog'\n  //             exact\n  //             render={(routerProps) => (\n  //               <Catalog\n  //                 {...routerProps}\n  //                 data={data}\n  //                 dataById={dataById}\n  //                 settings={settings}\n  //                 setSettings={setSettings}\n  //               />\n  //             )}\n  //           />\n  //           <Route\n  //             path='/catalog/:id'\n  //             render={(routerProps) => <CatalogItem {...routerProps} dataById={dataById} />}\n  //           />\n  //       </Switch>\n  //     </Router>\n  //   </div>\n  // )\n  return React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/catalog\",\n    exact: true,\n    component: CatalogContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/catalog/:id\",\n    component: CatalogItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/prog/eleksPractice/moviesapp/src/components/App.js"],"names":["React","useState","useEffect","API","CatalogContainer","CatalogItem","Provider","BrowserRouter","Router","Route","Switch","App","store"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,mBAAP;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,KAFF,EAGEC,MAHF,QAIO,kBAJP,C,CAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,GAAT,GAAe;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SACE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEC,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,KAAK,MAFP;AAGE,IAAA,SAAS,EAAER,gBAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAMI,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,cADP;AAEE,IAAA,SAAS,EAAEC,WAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CADF,CADF,CADF,CADF;AAmBD;;AAED,eAAeM,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../styles/App.css';\r\nimport API from '../API'\r\nimport CatalogContainer from '../containers/CatalogContainer';\r\nimport CatalogItem from './CatalogItem';\r\nimport { Provider } from 'react-redux';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch\r\n} from 'react-router-dom';\r\n\r\n// const TRENDING = 'trending';\r\n// const POPULAR = 'popular';\r\n// const TOP = 'top';\r\n// const SEARCH = 'search';\r\n\r\n// const REQUEST_MAP = {\r\n//   [TRENDING]: API.getTrending,\r\n//   [POPULAR]: API.getPopular,\r\n//   [TOP]: API.getTopRated,\r\n//   [SEARCH]: API.getMovieByQuery\r\n// }\r\n\r\nfunction App() {\r\n  // const [data, setData] = useState([]);\r\n  // const [dataById, setDataById] = useState({});\r\n  // const [totalPages , setTotalPages] = useState(0);\r\n  // const [settings, setSettings] = useState({\r\n  //   sorting: localStorage.getItem('sorting') || 'trending',\r\n  //   page: localStorage.getItem('page') || 1,\r\n  //   searchQuery: ''\r\n  // });\r\n\r\n  // useEffect(() => {\r\n  //   const { searchQuery, sorting, page } = settings;\r\n  //   const requstFuncKey = searchQuery.trim() ? SEARCH : sorting;\r\n  //   const requestFunc = REQUEST_MAP[requstFuncKey];\r\n\r\n  //   localStorage.setItem('page', page);\r\n  //   localStorage.setItem('sorting', sorting);\r\n\r\n  //   requestFunc(settings)\r\n  //   .then(({total_pages, results}) => {\r\n  //     setData(results);\r\n  //     setTotalPages(total_pages);\r\n\r\n  //     const additionalDataById = results.reduce((res, curr) => {\r\n  //       res[curr.id] = curr;\r\n  //       return res;\r\n  //     }, {});\r\n\r\n  //     setDataById({\r\n  //       ...dataById,\r\n  //       ...additionalDataById\r\n  //     });\r\n  //   })\r\n  // }, [settings]);\r\n\r\n  // return (\r\n  //   <div className=\"App\">\r\n  //     <Router>\r\n  //       <Switch>\r\n  //           <Route\r\n  //             path='/catalog'\r\n  //             exact\r\n  //             render={(routerProps) => (\r\n  //               <Catalog\r\n  //                 {...routerProps}\r\n  //                 data={data}\r\n  //                 dataById={dataById}\r\n  //                 settings={settings}\r\n  //                 setSettings={setSettings}\r\n  //               />\r\n  //             )}\r\n  //           />\r\n  //           <Route\r\n  //             path='/catalog/:id'\r\n  //             render={(routerProps) => <CatalogItem {...routerProps} dataById={dataById} />}\r\n  //           />\r\n  //       </Switch>\r\n  //     </Router>\r\n  //   </div>\r\n  // )\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <div className=\"App\">\r\n        <Router>\r\n          <Switch>\r\n              <Route\r\n                path='/catalog'\r\n                exact\r\n                component={CatalogContainer}\r\n              />\r\n              <Route\r\n                path='/catalog/:id'\r\n                component={CatalogItem}\r\n              />\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}