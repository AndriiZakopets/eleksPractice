{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\INTERN\\\\Documents\\\\Practice\\\\eleksPractice\\\\moviesapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { ADD_MOVIE, CHANGE_ORDER, REMOVE_MOVIE } from '../constants';\nlet initialState;\nconst storageWatchList = localStorage.getItem('watch-list');\n\nif (storageWatchList) {\n  initialState = JSON.parse(storageWatchList);\n} else {\n  initialState = {\n    itemsById: {},\n    items: []\n  };\n}\n\nconst reducer = (state = initialState, action) => {\n  const type = action.type,\n        payload = action.payload;\n\n  switch (type) {\n    case ADD_MOVIE:\n      return _objectSpread({}, state, {\n        watchIds: _objectSpread({}, state.watchIds, {\n          [payload.id]: payload\n        }),\n        watchList: [...state.watchList, payload.id]\n      });\n\n    case CHANGE_ORDER:\n      {\n        const newWatchList = [...state.watchList];\n        newWatchList.splice(payload.sourceI, 1);\n        newWatchList.splice(payload.destinationI, 0, payload.draggableId);\n        return _objectSpread({}, state, {\n          watchList: newWatchList\n        });\n      }\n\n    case REMOVE_MOVIE:\n      {\n        const newWatchList = [...state.watchList];\n        newWatchList.splice(payload.movieId, 1);\n        return _objectSpread({}, state, {\n          watchList: newWatchList\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/INTERN/Documents/Practice/eleksPractice/moviesapp/src/reducers/watchListReducer.js"],"names":["ADD_MOVIE","CHANGE_ORDER","REMOVE_MOVIE","initialState","storageWatchList","localStorage","getItem","JSON","parse","itemsById","items","reducer","state","action","type","payload","watchIds","id","watchList","newWatchList","splice","sourceI","destinationI","draggableId","movieId"],"mappings":";AAAA,SACEA,SADF,EAEEC,YAFF,EAGEC,YAHF,QAIO,cAJP;AAMA,IAAIC,YAAJ;AACA,MAAMC,gBAAgB,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAzB;;AAEA,IAAIF,gBAAJ,EAAsB;AACpBD,EAAAA,YAAY,GAAGI,IAAI,CAACC,KAAL,CAAWJ,gBAAX,CAAf;AACD,CAFD,MAEO;AACLD,EAAAA,YAAY,GAAG;AACbM,IAAAA,SAAS,EAAE,EADE;AAEbC,IAAAA,KAAK,EAAE;AAFM,GAAf;AAID;;AAED,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGT,YAAT,EAAuBU,MAAvB,KAAkC;AAAA,QACxCC,IADwC,GACtBD,MADsB,CACxCC,IADwC;AAAA,QAClCC,OADkC,GACtBF,MADsB,CAClCE,OADkC;;AAEhD,UAAQD,IAAR;AACE,SAAKd,SAAL;AACE,+BACKY,KADL;AAEEI,QAAAA,QAAQ,oBACHJ,KAAK,CAACI,QADH;AAEN,WAACD,OAAO,CAACE,EAAT,GAAcF;AAFR,UAFV;AAMEG,QAAAA,SAAS,EAAE,CACT,GAAGN,KAAK,CAACM,SADA,EAETH,OAAO,CAACE,EAFC;AANb;;AAWF,SAAKhB,YAAL;AAAmB;AACjB,cAAMkB,YAAY,GAAG,CAAC,GAAGP,KAAK,CAACM,SAAV,CAArB;AACAC,QAAAA,YAAY,CAACC,MAAb,CAAoBL,OAAO,CAACM,OAA5B,EAAqC,CAArC;AACAF,QAAAA,YAAY,CAACC,MAAb,CAAoBL,OAAO,CAACO,YAA5B,EAA0C,CAA1C,EAA6CP,OAAO,CAACQ,WAArD;AACA,iCACKX,KADL;AAEEM,UAAAA,SAAS,EAAEC;AAFb;AAID;;AACD,SAAKjB,YAAL;AAAmB;AACjB,cAAMiB,YAAY,GAAG,CAAC,GAAGP,KAAK,CAACM,SAAV,CAArB;AACAC,QAAAA,YAAY,CAACC,MAAb,CAAoBL,OAAO,CAACS,OAA5B,EAAqC,CAArC;AACA,iCACKZ,KADL;AAEEM,UAAAA,SAAS,EAAEC;AAFb;AAID;;AACD;AACE,aAAOP,KAAP;AA/BJ;AAiCD,CAnCD;;AAqCA,eAAeD,OAAf","sourcesContent":["import {\r\n  ADD_MOVIE,\r\n  CHANGE_ORDER,\r\n  REMOVE_MOVIE\r\n} from '../constants';\r\n\r\nlet initialState;\r\nconst storageWatchList = localStorage.getItem('watch-list');\r\n\r\nif (storageWatchList) {\r\n  initialState = JSON.parse(storageWatchList);\r\n} else {\r\n  initialState = {\r\n    itemsById: {},\r\n    items: []\r\n  };\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case ADD_MOVIE: \r\n      return {\r\n        ...state,\r\n        watchIds: {\r\n          ...state.watchIds,\r\n          [payload.id]: payload\r\n        },\r\n        watchList: [\r\n          ...state.watchList,\r\n          payload.id\r\n        ]\r\n      };\r\n    case CHANGE_ORDER: {\r\n      const newWatchList = [...state.watchList];\r\n      newWatchList.splice(payload.sourceI, 1);\r\n      newWatchList.splice(payload.destinationI, 0, payload.draggableId);\r\n      return {\r\n        ...state,\r\n        watchList: newWatchList\r\n      };\r\n    }\r\n    case REMOVE_MOVIE: {\r\n      const newWatchList = [...state.watchList];\r\n      newWatchList.splice(payload.movieId, 1);\r\n      return {\r\n        ...state,\r\n        watchList: newWatchList\r\n      }\r\n    }\r\n    default: \r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}